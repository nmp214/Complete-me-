<div class="draw-page">
    <div class="right-side">
        <div class="colors">
            <div class="brushes">
                <mat-button-toggle-group [(ngModel)]="brush" name="brush" aria-label="Favorite Color">
                    <mat-button-toggle value="eraser" (click)="changeKind($event)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
                            class="bi bi-eraser-fill" viewBox="0 0 16 16">
                            <path
                                d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z" />
                        </svg>
                    </mat-button-toggle>
                    <mat-button-toggle (click)="changeKind($event)" value="brush">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor"
                            class="bi bi-brush" viewBox="0 0 16 16">
                            <path
                                d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z" />
                        </svg>
                    </mat-button-toggle>
                </mat-button-toggle-group>
                <!-- <button (click)="toggleErasingMode()">Toggle Erasing Mode</button> -->
            </div>
            <canvas id="circle" width="100px" height="100px"></canvas>
            <!-- <div class="all-colors"> -->
            <div class="determine-colors">
                <button class="btn1" value="#ED1C24" (click)="changeColor($event)"></button>
                <button class="btn2" value="#FF7F27" (click)="changeColor($event)"></button>
                <button class="btn3" value="#FFF200" (click)="changeColor($event)"></button>
                <button class="btn4" value="#B5E61D" (click)="changeColor($event)"></button>
                <button class="btn5" value="#A349A4" (click)="changeColor($event)"></button>
                <button class="btn6" value="#99D9EA" (click)="changeColor($event)"></button>
                <button class="btn7" value="#3F48CC" (click)="changeColor($event)"></button>
                <button class="btn8" value="#C8BFE7" (click)="changeColor($event)"></button>
                <button class="btn9" value="#FFAEC9" (click)="changeColor($event)"></button>
                <button class="btn10" value="#B97A57" (click)="changeColor($event)"></button>
                <button class="btn11" value="#C3C3C3" (click)="changeColor($event)"></button>
                <button class="btn12" value="#000000" (click)="changeColor($event)"></button>
            </div>
            <div style="margin: 10px;"></div>
            <div>
                <button class="add-btn" (click)="customColor()">
                    <mat-icon>add</mat-icon>
                </button>
            </div>
            <div class="added-colors">
                <div *ngFor="let color of customColors">
                    <button [style.background-color]="color" class="btn" value={{color}}
                        (click)="changeColor($event)"></button>
                </div>
            </div>
            <mat-slider (click)="changeWidth($event)" min="1" max="40" step="4" value="1" [displayWith]="formatLabel"
                discrete>
                <input matSliderThumb [(ngModel)]="selectedWidth" #slider>
            </mat-slider>
            <div class="more-actions">
                <button mat-raised-button color="primary" (click)="clear()">אפס</button>
                <button *ngIf="!isFillMode" (click)="toggleFillMode()" mat-mini-fab matTooltip="Accent" color="primary"
                    aria-label="Example icon-button with a heart icon">
                    <mat-icon>format_color_fill</mat-icon>
                </button>
                <button *ngIf="isFillMode" (click)="toggleFillMode()" mat-mini-fab matTooltip="Accent" color="primary"
                    aria-label="Example icon-button with a heart icon">
                    <mat-icon>brush</mat-icon>
                </button>
            </div>
        </div>
        <button class="share" mat-raised-button color="accent" (click)="openShare()">רוצה לשתף <br> אחרים
            בציור?</button>
    </div>
    <div class="content">
        <audio #audioPlayer loop>
            <!-- <source src="https://firebasestorage.googleapis.com/v0/b/complete-me-216ba.appspot.com/o/shapes%2F_%D7%95%D7%9E%D7%AA%D7%A7%D7%93%D7%A9_%20I%20%D7%9E%D7%95%D7%98%D7%99%20%D7%A9%D7%98%D7%99%D7%99%D7%A0%D7%9E%D7%A5%20I%20%D7%9E%D7%A7%D7%94%D7%9C%D7%AA%20%D7%9E%D7%9C%D7%9B%D7%95%D7%AA%20I%20%D7%93%D7%A8%D7%A9%D7%95%20U'miskadesh%20I%20Motty%20Steinmetz%20I%20Malchut%20I%20Dirshu%20I.wav?alt=media&token=00d69c01-bc48-46a0-beba-7803a0e069b2" type="audio/mpeg"> -->
            <source
                src="https://firebasestorage.googleapis.com/v0/b/complete-me-216ba.appspot.com/o/music%2Fmusic.mp3?alt=media&token=161353b9-2af2-4e99-ab3a-3063496e5dc3"
                type="audio/mpeg">
            <source
                src="https://firebasestorage.googleapis.com/v0/b/complete-me-216ba.appspot.com/o/music%2FI%20pray%20%D7%90%D7%A4%D7%A8%D7%AA%20%D7%A4%D7%A1%D7%A0%D7%AA%D7%A8.mp3?alt=media&token=1a430250-5188-4afa-8638-d7131cd42fee"
                type="audio/mpeg">
            <source
                src="https://firebasestorage.googleapis.com/v0/b/complete-me-216ba.appspot.com/o/music%2FPeace%20wanted%20to%20be%20free%20%D7%90%D7%A4%D7%A8%D7%AA%20%D7%A4%D7%A1%D7%A0%D7%AA%D7%A8.mp3?alt=media&token=6a821b3d-1574-4a56-bf24-33674bd32a99"
                type="audio/mpeg">
            <source
                src="https://firebasestorage.googleapis.com/v0/b/complete-me-216ba.appspot.com/o/music%2F%D7%90%D7%99%D7%99%D7%93%D7%9C%D7%95%D7%95%D7%99%D7%A1%20%D7%90%D7%A4%D7%A8%D7%AA%20%D7%A4%D7%A1%D7%A0%D7%AA%D7%A8.mp3?alt=media&token=48b40366-6465-4d25-b346-799d0582e137"
                type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <div class="drawing">
            <mat-spinner style="position: absolute;" *ngIf="inProgress"></mat-spinner>
            <canvas #screen id="canvas" width="1020" height="580"></canvas>
        </div>
        <div class="actions">
            <!-- <button (click)="toggleDrawMode()">Toggle Draw Mode</button> -->
            <!-- <button (click)="toggleFillMode()"> Toggle Fill Mode</button> -->


            <button mat-raised-button color="warn" (click)="openExamples()">דוגמאות</button>
            <button *ngIf="isPlaying" (click)="pauseAudio()" mat-fab matTooltip="Accent" color="accent"
                aria-label="Example icon-button with a heart icon">
                <mat-icon>music_note</mat-icon>
            </button>
            <button *ngIf="!isPlaying" (click)="playAudio()" mat-fab matTooltip="Accent" color="accent"
                aria-label="Example icon-button with a heart icon">
                <mat-icon>music_off</mat-icon>
            </button>
            <button mat-raised-button color="warn" (click)="openMyDrawings()">הציורים שלי</button>
        </div>
    </div>
    <div class="left-side">
        <img class="logo" src="../../../assets/complete me.png" (click)="toHome()" />
        <div>
            <button class="do" (click)="undo()" title="בטל" mat-mini-fab color="primary"
                aria-label="Example icon button with a plus one icon">
                <mat-icon>undo</mat-icon>
            </button>
            <button class="do" (click)="redo()" title="בצע שוב" mat-mini-fab color="primary"
                aria-label="Example icon button with a plus one icon">
                <mat-icon>redo</mat-icon>
            </button>
        </div>

        <div>
            <button (click)="openShare()" class="save" mat-raised-button color="accent">שמירה</button>
            <button (click)="download()" class="save" mat-raised-button color="accent">הורדה</button>
        </div>
    </div>
</div>


<!-- <div id="download">
    <canvas #scncanvas></canvas>
    <a #downloadLink></a>
</div> -->